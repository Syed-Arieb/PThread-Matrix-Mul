!function(){if(window.dcToast)console.log("dcToast already initialized");else{let o=null,s=null;const a=document.createElement("style");function e(e,t){e.style.animation="dcToastSlideOut 0.3s ease-in-out forwards",setTimeout((()=>{e.parentNode&&e.parentNode.removeChild(e),t&&t()}),300)}function t(t){const a=`<div class=dc-toast-container style=width:100%;position:absolute;top:0;left:0;pointer-events:none;z-index:9999;padding:12px;box-sizing:border-box;display:flex;justify-content:center><div style="background:#171717;border-radius:12px;padding:10px 14px;box-shadow:0 6px 24px rgba(0,0,0,.45);pointer-events:auto"><div style=display:flex;align-items:center;gap:12px><div style=width:48px;height:48px;background:#2f2f2f;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0><svg xmlns=http://www.w3.org/2000/svg style=display:block;width:65%;height:65%;max-width:100%;max-height:100% viewBox="0 0 24 24"><rect width=24 height=24 fill=none /><g fill=none><path fill=#fff d="M22.155 6.293a15.5 15.5 0 0 0-3-3.61a10.47 10.47 0 0 0-5.86-2.64a12.35 12.35 0 0 0-6.28 1.13c-1.67.76-3.14 1.9-4.29 3.33a12.3 12.3 0 0 0-2.34 4.83a.33.33 0 0 0 .25.4a.33.33 0 0 0 .38-.25a11.34 11.34 0 0 1 2.33-4.5a10.7 10.7 0 0 1 4-3a11.7 11.7 0 0 1 5.83-.92a9.53 9.53 0 0 1 5.26 2.45c1.073.975 2 2.1 2.75 3.34a8.84 8.84 0 0 1 1.36 4a12 12 0 0 1-.55 4.7a8.37 8.37 0 0 1-2.65 3.83a7.2 7.2 0 0 1-2.74 1.44a19 19 0 0 1-4.74.73a.3.3 0 0 0-.28.31a.29.29 0 0 0 .3.29a20.4 20.4 0 0 0 4.93-.63a8.1 8.1 0 0 0 3-1.49a9.25 9.25 0 0 0 3.06-4.15c.575-1.629.824-3.355.73-5.08a9.8 9.8 0 0 0-1.45-4.51"/><path fill=#fff d="M15.935 15.903a3.48 3.48 0 0 0 2.08-3.55a1 1 0 0 0-.61-.76a3.3 3.3 0 0 0-1.39-.07c-1.22.07-3.05.38-4.54.54c-.4.05-.78.08-1.11.1a.3.3 0 0 0 0 .59l5.66-.18h.83a2.46 2.46 0 0 1-1.46 2.41a3.8 3.8 0 0 1-3.11.53a4 4 0 0 1-1.12-.71a3.4 3.4 0 0 1-.82-1a.342.342 0 0 0-.628.014a.33.33 0 0 0 .008.256a4 4 0 0 0 .91 1.32c.379.381.814.701 1.29.95a4.7 4.7 0 0 0 4.01-.44m-7.6-4.92c.223.061.457.061.68 0a1.13 1.13 0 0 0 .46-1.83c-1-1.24-3 .82-1.74 1.72c.187.089.394.127.6.11m10.83-.64c.225.04.456.02.67-.06a1.13 1.13 0 0 0 .46-1.84c-1-1.23-3 .83-1.74 1.73c.184.112.395.17.61.17m-9.53 9.75a1.27 1.27 0 0 0-.45-.5a1.6 1.6 0 0 0 .21-1.08a2.5 2.5 0 0 0-.34-1a1.6 1.6 0 0 0-.52-.49a1 1 0 0 0 .08-.3a2.06 2.06 0 0 0-.6-1.81a2.92 2.92 0 0 0-1.73-.46a5 5 0 0 0-2.18.43a3.94 3.94 0 0 0-.71-2.53c-.9-1-2.54-.13-2.71 1.36a6 6 0 0 0 .23 1.81c.28 1 .23.95.48 1.33a3.5 3.5 0 0 0-.55.8c-.1.34-.28.74-.12 1s.3.23.47.06s.09-.44.14-.6a1.7 1.7 0 0 1 .43-.76c.16-.21.28-.22.47-.4c1.85-1.77 4.62-1.97 5.12-1.28c.85 1.16-1.16 1.29-2.9 2.37a.28.28 0 0 0-.18.38a.29.29 0 0 0 .38.18c.41-.06.77-.06 1.12-.11c1-.17 1.25-.66 2.16-.51a.87.87 0 0 1 .22 1.08a4.4 4.4 0 0 1-1.52.66q-.555.265-1.07.6a.29.29 0 0 0-.2.37a.29.29 0 0 0 .37.2a10 10 0 0 0 1.08-.07q.235-.032.46-.11a1.7 1.7 0 0 1 1.21-.2a.24.24 0 0 1 .16.11a.33.33 0 0 1 0 .24a1.43 1.43 0 0 1-.35.68q-.304.346-.68.61a4.85 4.85 0 0 1-2.25.83a4.1 4.1 0 0 1-2.35-.35a2.68 2.68 0 0 1-1.2-1.29a5.2 5.2 0 0 1-.47-1.86a.33.33 0 0 0-.35-.32a.34.34 0 0 0-.32.36a5.6 5.6 0 0 0 .65 2.54c.304.545.75.998 1.29 1.31a5.05 5.05 0 0 0 2.85.61a5.84 5.84 0 0 0 2.77-1c.41-.274.775-.612 1.08-1a2.45 2.45 0 0 0 .46-1a1.45 1.45 0 0 0-.14-.89m-7.81-3.72l-.09-1c0-.75-.13-1.73.37-2.19c.1 0 .45-.59.88.22c.238.443.384.93.43 1.43a.32.32 0 0 0 .13.26a7 7 0 0 0-1.72 1.28"/></g></svg></div><div style="background:#2f2f2f;border-radius:12px;padding:12px 16px;max-width:680px"><div style=color:#fff;font-size:14px;line-height:1.35>${t}</div></div></div></div></div>`,n=document.createElement("div");n.innerHTML=a;const i=n.firstElementChild;i.style.animation="dcToastSlideIn 0.3s ease-in-out forwards",document.body.insertBefore(i,document.body.firstChild),o=i,s=setTimeout((()=>{e(i,(()=>{o=null}))}),2e3)}a.textContent="@keyframes dcToastSlideIn{from{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:translateY(0)}}@keyframes dcToastSlideOut{from{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-100%)}}",document.head.appendChild(a),window.dcToast=function(a){s&&(clearTimeout(s),s=null),o?e(o,(()=>{t(a)})):t(a)},console.log('dcToast initialized! Usage: dcToast("Your message here")')}}(),function(){if(window.questSpooferUI)return void console.log("Quest Spoofer UI already exists");let e=!1,t={button:null,dropdown:null};const o=document.createElement("style");o.id="quest-spoofer-styles",o.textContent=".quest-spoofer-btn{position:fixed;top:30px;right:30px;width:50px;height:50px;background:#1a1a1a;border:none;border-radius:50%;cursor:pointer;opacity:.5;transition:opacity .3s ease;z-index:10000;padding:5px;display:flex;align-items:center;justify-content:center}.quest-spoofer-btn:hover{opacity:1}.quest-spoofer-btn svg{width:100%;height:100%}.quest-dropdown{position:fixed;top:90px;right:30px;background:#1a1a1a;border-radius:12px;padding:8px;box-shadow:0 6px 24px rgba(0,0,0,.45);z-index:10000;min-width:250px;opacity:0;transform:translateY(-10px);pointer-events:none;transition:opacity .3s ease,transform .3s ease}.quest-dropdown.active{opacity:1;transform:translateY(0);pointer-events:auto}.quest-dropdown-header{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;border-bottom:1px solid #2f2f2f;margin-bottom:8px}.quest-dropdown-title{color:#fff;font-size:14px;font-weight:600}.quest-dropdown-close{background:0 0;border:none;color:#b9bbbe;cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:background .2s ease}.quest-dropdown-close:hover{background:#2f2f2f}.quest-option{display:flex;align-items:center;gap:12px;padding:12px;color:#fff;background:#2f2f2f;border:none;border-radius:8px;cursor:pointer;width:100%;margin-bottom:6px;font-size:14px;transition:background .2s ease}.quest-option:hover:not(:disabled){background:#3a3a3a}.quest-option:disabled{opacity:.5;cursor:not-allowed}.quest-option:last-child{margin-bottom:0}.quest-option svg{width:20px;height:20px;flex-shrink:0}.quest-option.danger{background:#c23030}.quest-option.danger:hover:not(:disabled){background:#d43838}.quest-status{font-size:12px;color:#9bff00;padding:8px 12px;background:#2f2f2f;border-radius:8px;margin-top:8px;display:none}.quest-status.active{display:block}",document.head.appendChild(o);const s=document.createElement("button");s.className="quest-spoofer-btn",s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><rect width="40" height="40" fill="none"/><g fill="none"><g stroke="#9bff00" stroke-miterlimit="10" clip-path="url(#SVGw9scfcdR)" stroke-width="0.9"><path fill="#9bff00" d="M10.194 6.683c.14.802.938 2.458 1.948 2.458c.623 0 1.168-.642 1.343-2.404c1.762-.146 2.415-.682 2.415-1.314c0-1.014-1.697-1.807-2.496-1.948c-.14-.809-.935-2.487-1.957-2.487c-.643 0-1.16.652-1.334 2.404c-1.762.195-2.414.711-2.414 1.344c0 1.014 1.696 1.807 2.495 1.947Zm-5.649 6.669c.114.784.818 2.045 1.776 2.045c.516 0 .974-.525 1.1-1.947c1.422-.146 1.947-.574 1.947-1.1c0-.742-1.372-1.29-1.986-1.42c-.114-.786-.817-2.045-1.776-2.045c-.526 0-.974.535-1.1 1.947c-1.441.146-1.947.584-1.947 1.1c0 .74 1.374 1.29 1.986 1.42Zm23.794 12.704a3.4 3.4 0 0 0-.317-.44q.533-1.386.854-2.837a1 1 0 0 0 .049-.185a7 7 0 0 0 3.66-1.665c3.447.847 5.84-1.343 6.815-5.286c.27-1.082-1.666-2.416-2.473-2.783c.495-3.375-6.314-5.053-8.336-5.587c-5.461-1.44-8.411-1.226-8.888.633a.8.8 0 0 1-.048.237q-.016.05-.03.104c-2.035-.321-3.154-.088-3.368.72c-.843 3.413.172 7.454 3.8 8.696a7.1 7.1 0 0 0 1.424 1.89q.28.377.61.715l-.003.011a20 20 0 0 0-.604 3.155a3.36 3.36 0 0 0-3.193 2.54q-.1.387.828.848l-.017.065c-.155.594 1.519 1.314 4.985 2.2c3.465.886 5.286 1.061 5.432.477a3.35 3.35 0 0 0-1.18-3.508Z"/><path fill="#fff" d="M31.774 20.017c3.447.846 5.84-1.344 6.815-5.287c.204-.817-.662-1.557-2.61-2.248c0-.117.069-.224.098-.341c.477-1.86-2.024-3.427-7.486-4.868c-5.461-1.44-8.411-1.226-8.888.633c0 .117-.05.224-.078.34c-2.035-.32-3.154-.087-3.368.721c-.974 3.943 0 7.02 3.456 7.925a7.13 7.13 0 0 0 2.424 3.212a1 1 0 0 0-.05.175a20 20 0 0 0-.603 3.154a3.36 3.36 0 0 0-3.193 2.541c-.155.594 1.519 1.315 4.985 2.2c3.465.886 5.286 1.062 5.432.477a3.35 3.35 0 0 0-1.567-3.767c.388-.98.697-1.989.924-3.018q.033-.09.05-.185a7 7 0 0 0 3.66-1.665z"/><path stroke-linecap="round" d="M19.84 10.612c-.23 1.285-.3 2.593-.205 3.895m15.089-.079a15.6 15.6 0 0 1-1.694 3.534"/><path fill="#9bff00" d="M14.328 34.145c1.188 1.223 2.74 3.155 4.66 3.123c1.734 0 1.773-3.894 1.773-3.894s3.894 0 3.962-1.694c.026-.593-1.65-2.278-3.188-3.826l-.53-.536l-.312-.311c.052-.892 0-1.788-.156-2.668c-.964-5.627-6.035-8.353-11.397-7.433c-5.676.974-7.925 4.868-7.078 9.988c.148.896.4 1.772.75 2.61c0 .08-.05.16-.102.24q-.036.055-.064.11q-.209.452-.43.925C1.333 32.668.4 34.659.602 35.169c.526 1.316 3.52 1.21 4.59.968c.6 1.264 2.486 3.33 4.13 2.786c.514-.175 1.444-2.184 2.324-4.087l.159-.343a11.5 11.5 0 0 0 1.674-.175q.428-.07.849-.173Z"/><path fill="#1a1a1a" d="m19.585 26.953l-.311-.312c.052-.892 0-1.787-.156-2.667c-.876-5.111-4.303-8.041-9.978-7.068c-5.676.974-7.925 4.868-7.078 9.988c.148.896.4 1.772.75 2.61c0 .116-.107.233-.166.35c-.973 2.112-2.278 4.721-2.044 5.315c.642 1.607 4.293.283 4.293.283s1.363 3.65 3.008 3.105c.545-.185 1.558-2.434 2.483-4.43a11.5 11.5 0 0 0 1.674-.175q.856-.142 1.684-.409c1.538 1.587 3.242 3.369 3.826 3.359c1.733 0 1.772-3.894 1.772-3.894s3.894 0 3.962-1.694c.03-.662-2.064-2.687-3.72-4.361Z"/><path fill="#fff" d="M10.61 30.233a4.8 4.8 0 1 0 .195-9.6a4.8 4.8 0 0 0-.195 9.6Z"/><path stroke-linecap="round" d="M4.583 31.139c.95 1 2.15 1.729 3.476 2.112m10.154-4.429a7.8 7.8 0 0 1-2.58 3.154"/><path fill="#9bff00" d="M15.204 4.736c0-.633-.652-1.168-2.414-1.344c-.175-1.752-.7-2.404-1.343-2.404s-1.16.652-1.334 2.404c-1.762.195-2.414.711-2.414 1.344s.652 1.168 2.414 1.343c.175 1.762.71 2.376 1.334 2.376c.623 0 1.168-.643 1.343-2.405c1.762-.146 2.414-.681 2.414-1.314Zm-6.551 7.196c0-.516-.526-.974-1.947-1.1c-.146-1.441-.575-1.947-1.1-1.947s-.974.535-1.1 1.947c-1.441.146-1.947.584-1.947 1.1s.535.973 1.947 1.1c.146 1.45.584 1.947 1.1 1.947s.973-.526 1.1-1.947c1.42-.146 1.947-.575 1.947-1.1Z"/></g><defs><clipPath id="SVGw9scfcdR"><path fill="#fff" d="M0 0h40v40H0z"/></clipPath></defs></g></svg>',document.body.appendChild(s),t.button=s;const a=document.createElement("div");a.className="quest-dropdown",a.innerHTML='<div class=quest-dropdown-header><div class=quest-dropdown-title>Quest Spoofer</div><button class=quest-dropdown-close><svg xmlns=http://www.w3.org/2000/svg width=20 height=20 viewBox="0 0 24 24"><rect width=24 height=24 fill=none /><path fill=currentColor d="M6.4 19L5 17.6l5.6-5.6L5 6.4L6.4 5l5.6 5.6L17.6 5L19 6.4L13.4 12l5.6 5.6l-1.4 1.4l-5.6-5.6z"/></svg></button></div><button class=quest-option id=quest-spoof-btn><svg xmlns=http://www.w3.org/2000/svg width=20 height=20 viewBox="0 0 48 48"><rect width=48 height=48 fill=none /><g fill=none stroke=currentColor stroke-linejoin=round stroke-width=4><path d="M21 38c9.389 0 17-7.611 17-17S30.389 4 21 4S4 11.611 4 21s7.611 17 17 17Z"/><path stroke-linecap=round d="M26.657 14.343A7.98 7.98 0 0 0 21 12a7.98 7.98 0 0 0-5.657 2.343m17.879 18.879l8.485 8.485"/></g></svg> Find & Spoof Quests</button> <button class="quest-option danger" id=quest-cleanup-btn><svg xmlns=http://www.w3.org/2000/svg width=20 height=20 viewBox="0 0 24 24"><rect width=24 height=24 fill=none /><path fill=currentColor d="M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zm2-4h2V8H9zm4 0h2V8h-2z"/></svg> Cleanup & Unregister</button><div class=quest-status id=quest-status></div>',document.body.appendChild(a),t.dropdown=a,s.addEventListener("click",(()=>{a.classList.toggle("active")})),a.querySelector(".quest-dropdown-close").addEventListener("click",(()=>{a.classList.remove("active")}));const n=a.querySelector("#quest-spoof-btn"),i=a.querySelector("#quest-status");n.addEventListener("click",(()=>{e||(e=!0,n.disabled=!0,i.classList.add("active"),i.textContent="Searching for quests...",window.startQuestSpoofing&&window.startQuestSpoofing((e=>{i.textContent=e}),(()=>{setTimeout((()=>{e=!1,n.disabled=!1,i.classList.remove("active")}),3e3)})))})),a.querySelector("#quest-cleanup-btn").addEventListener("click",(()=>{confirm("Are you sure you want to cleanup and remove all injected code?")&&(t.button&&t.button.remove(),t.dropdown&&t.dropdown.remove(),document.getElementById("quest-spoofer-styles")?.remove(),delete window.questSpooferUI,delete window.startQuestSpoofing,delete window.dcToast,dcToast("‚úÖ Cleanup complete! Refresh to fully reset."),console.log("Quest Spoofer UI cleaned up"))})),window.questSpooferUI={isProcessing:e,updateStatus:e=>i.textContent=e},console.log("Quest Spoofer UI initialized")}(),delete window.$;const wpRequire=webpackChunkdiscord_app.push([[Symbol()],{},e=>e]);webpackChunkdiscord_app.pop();const webpackModules=Object.values(wpRequire.c),ApplicationStreamingStore=webpackModules.find((e=>e?.exports?.Z?.__proto__?.getStreamerActiveStreamMetadata))?.exports.Z,RunningGameStore=webpackModules.find((e=>e?.exports?.ZP?.getRunningGames))?.exports.ZP,QuestsStore=webpackModules.find((e=>e?.exports?.Z?.__proto__?.getQuest))?.exports.Z,ChannelStore=webpackModules.find((e=>e?.exports?.Z?.__proto__?.getAllThreadsForParent))?.exports.Z,GuildChannelStore=webpackModules.find((e=>e?.exports?.ZP?.getSFWDefaultChannel))?.exports.ZP,FluxDispatcher=webpackModules.find((e=>e?.exports?.Z?.__proto__?.flushWaitQueue))?.exports.Z,api=webpackModules.find((e=>e?.exports?.tn?.get))?.exports.tn;window.startQuestSpoofing=function(e,t){const o=[...QuestsStore.quests.values()].filter((e=>"1412491570820812933"!==e.id&&e.userStatus?.enrolledAt&&!e.userStatus?.completedAt&&new Date(e.config.expiresAt).getTime()>Date.now())),s="undefined"!=typeof DiscordNative;if(0===o.length)dcToast("üîç No active quests found to complete!"),console.log("üîç No active quests found to complete!"),e&&e("No active quests found"),t&&setTimeout(t,1e3);else{dcToast(`üìã Found ${o.length} active quests. Starting queue...`),console.log(`üìã Found ${o.length} active quests. Starting queue...`),e&&e(`Found ${o.length} quests. Processing...`);let a=0;const n=async()=>{if(a>=o.length)return dcToast("üéâ All quests completed! Queue finished."),console.log("üéâ All quests completed! Queue finished."),e&&e("All quests completed!"),void(t&&setTimeout(t,1e3));const s=o[a];console.log(`\nüöÄ Processing quest ${a+1}/${o.length}`),e&&e(`Processing quest ${a+1}/${o.length}...`),await i(s),a++,setTimeout(n,2e3)},i=async e=>{const t=Math.floor(3e4*Math.random())+1e3,{config:{application:{id:o,name:a},messages:{questName:n},taskConfig:i=e.config.taskConfigV2},userStatus:r}=e,c=["WATCH_VIDEO","PLAY_ON_DESKTOP","STREAM_ON_DESKTOP","PLAY_ACTIVITY","WATCH_VIDEO_ON_MOBILE"].find((e=>null!=i.tasks[e])),d=i.tasks[c].target;let l=r?.progress?.[c]?.value??0;return dcToast(`üìù Quest: ${n}`),console.log(`üìù Quest: ${n} (${a})`),console.log(`üéØ Task: ${c} - ${l}/${d} seconds`),new Promise((i=>{if("WATCH_VIDEO"===c||"WATCH_VIDEO_ON_MOBILE"===c){const t={maxFutureSeconds:10,progressSpeed:7,updateInterval:1},o=new Date(e.userStatus.enrolledAt).getTime();let s=!1;(async()=>{for(dcToast(`üé¨ Starting video quest: ${n}`),console.log(`üé¨ Starting video quest: ${n}`);l<d;){const a=Math.floor((Date.now()-o)/1e3)+t.maxFutureSeconds-l,n=l+t.progressSpeed;if(a>=t.progressSpeed){const t=Math.min(d,n+Math.random());try{const o=await api.post({url:`/quests/${e.id}/video-progress`,body:{timestamp:t}});s=null!=o.body.completed_at,l=Math.min(d,n),console.log(`üìπ Progress: ${l}/${d} seconds`)}catch(e){console.error("‚ùå Failed to update progress:",e)}}if(n>=d)break;await new Promise((e=>setTimeout(e,1e3*t.updateInterval)))}s||await api.post({url:`/quests/${e.id}/video-progress`,body:{timestamp:d}}),dcToast("‚úÖ Quest completed successfully!"),console.log("‚úÖ Quest completed successfully!"),i()})()}else if("PLAY_ON_DESKTOP"===c)if(s){dcToast(`üéÆ Starting desktop game quest: ${n}`),console.log(`üéÆ Starting desktop game quest: ${n}`);(async()=>{try{const s=(await api.get({url:`/applications/public?application_ids=${o}`})).body[0],n=s.executables.find((e=>"win32"===e.os)).name.replace(">",""),r={cmdLine:`c:\\Games\\${s.name}\\${n}`,exeName:n,exePath:`c:/Games/${s.name.toLowerCase()}/${n}`,hidden:!1,isLauncher:!1,id:o,name:s.name,pid:t,pidPath:[t],processName:s.name,start:Date.now()},c=RunningGameStore.getRunningGames(),u=RunningGameStore.getRunningGames,p=RunningGameStore.getGameForPID;RunningGameStore.getRunningGames=()=>[r],RunningGameStore.getGameForPID=e=>e===t?r:null,FluxDispatcher.dispatch({type:"RUNNING_GAMES_CHANGE",removed:c,added:[r],games:[r]});const g=t=>{const o=1===e.config.configVersion?t.userStatus.streamProgressSeconds:Math.floor(t.userStatus.progress.PLAY_ON_DESKTOP.value);console.log(`üéÆ Game progress: ${o}/${d} seconds`),o>=d&&(dcToast("‚úÖ Quest completed successfully!"),console.log("‚úÖ Quest completed successfully!"),RunningGameStore.getRunningGames=u,RunningGameStore.getGameForPID=p,FluxDispatcher.dispatch({type:"RUNNING_GAMES_CHANGE",removed:[r],added:[],games:[]}),FluxDispatcher.unsubscribe("QUESTS_SEND_HEARTBEAT_SUCCESS",g),i())};FluxDispatcher.subscribe("QUESTS_SEND_HEARTBEAT_SUCCESS",g);const f=Math.ceil((d-l)/60);dcToast(`üéÆ Spoofing ${a} (~${f}min)`),console.log(`üéÆ Spoofing ${a}. Estimated completion: ${f} minutes`)}catch(e){console.error("‚ùå Failed to setup game spoofing:",e),i()}})()}else dcToast("‚ö†Ô∏è Desktop app required for this quest"),console.log("‚ö†Ô∏è  Desktop quests require the Discord desktop app. Browser version not supported for:",n),i();else if("STREAM_ON_DESKTOP"===c)if(s){dcToast(`üìπ Starting streaming quest: ${n}`),console.log(`üìπ Starting streaming quest: ${n}`),console.log("‚ö†Ô∏è  Remember: You need at least 1 other person in the voice channel!");const s=ApplicationStreamingStore.getStreamerActiveStreamMetadata;ApplicationStreamingStore.getStreamerActiveStreamMetadata=()=>({id:o,pid:t,sourceName:null});const r=t=>{const o=1===e.config.configVersion?t.userStatus.streamProgressSeconds:Math.floor(t.userStatus.progress.STREAM_ON_DESKTOP.value);console.log(`üìπ Stream progress: ${o}/${d} seconds`),o>=d&&(dcToast("‚úÖ Quest completed successfully!"),console.log("‚úÖ Quest completed successfully!"),ApplicationStreamingStore.getStreamerActiveStreamMetadata=s,FluxDispatcher.unsubscribe("QUESTS_SEND_HEARTBEAT_SUCCESS",r),i())};FluxDispatcher.subscribe("QUESTS_SEND_HEARTBEAT_SUCCESS",r);const c=Math.ceil((d-l)/60);dcToast(`üìπ Spoofing stream (~${c}min)`),console.log(`üìπ Spoofing stream for ${a}. Estimated completion: ${c} minutes`)}else dcToast("‚ö†Ô∏è Desktop app required for this quest"),console.log("‚ö†Ô∏è  Streaming quests require the Discord desktop app. Browser version not supported for:",n),i();else if("PLAY_ACTIVITY"===c){const t=ChannelStore.getSortedPrivateChannels()[0]?.id??Object.values(GuildChannelStore.getAllGuilds()).find((e=>e?.VOCAL?.length>0))?.VOCAL[0]?.channel?.id;if(t){const o=`call:${t}:1`;(async()=>{dcToast(`üéØ Starting activity quest: ${n}`),console.log(`üéØ Starting activity quest: ${n}`);try{for(;l<d;){const t=await api.post({url:`/quests/${e.id}/heartbeat`,body:{stream_key:o,terminal:!1}});if(l=t.body.progress.PLAY_ACTIVITY.value,console.log(`üéØ Activity progress: ${l}/${d} seconds`),l>=d){await api.post({url:`/quests/${e.id}/heartbeat`,body:{stream_key:o,terminal:!0}});break}await new Promise((e=>setTimeout(e,2e4)))}dcToast("‚úÖ Quest completed successfully!"),console.log("‚úÖ Quest completed successfully!"),i()}catch(e){console.error("‚ùå Failed to complete activity quest:",e),i()}})()}else dcToast("‚ùå No voice channel found. Join one first!"),console.log("‚ùå No suitable voice channel found. Join a voice channel first!"),i()}else dcToast(`‚ùå Unsupported quest type: ${c}`),console.log(`‚ùå Unsupported quest type: ${c}`),console.log("Supported types: WATCH_VIDEO, PLAY_ON_DESKTOP, STREAM_ON_DESKTOP, PLAY_ACTIVITY"),i()}))};n()}};
